<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>View Messages</title>
<link rel="icon" href="./images/port_icon.png" type="image/icon type">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background-color: rgba(0, 1, 1, 0.247);
  background-size: cover;
  
  z-index: -10;
}


.overlay {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  transition: opacity 500ms;
  visibility: hidden;
  opacity: 0;
  z-index: 10;
}
.overlay:target {
  visibility: visible;
  opacity: 1;
}

.popup {
  top:30px;
  margin: 10px auto;
  padding: 20px;
  background: #fff;
  border-radius: 5px;
  width: 75%;
  position: relative;
  transition: all 5s ease-in-out;
}

.popup h2 {
  margin-top: 0;
  color: #333;
  font-family: Tahoma, Arial, sans-serif;
}
.popup .close {
  position: absolute;
  top: 20px;
  right: 30px;
  transition: all 200ms;
  font-size: 30px;
  font-weight: bold;
  text-decoration: none;
  color: #333;
}
.popup .close:hover {
  color: #06D85F;
}
.popup .content {
  max-height: 30%;
  overflow: auto;
}

@media screen and (max-width: 700px){
  .box{
    width: 70%;
  }
  .popup{
    width: 70%;
  }
}
table {
  border-collapse: collapse;
  width: 100%;
  
}

th, td {
  padding: 15px;
  text-align: center;
  vertical-align: middle;
}
tr:nth-child(even) {background-color: #f6f6f6;}
tr:hover
{
    background-color: #f2f2f2;
    font-weight: bold;
}

@media screen and (max-width: 580px){
  #tb
  {
      overflow-y: auto; 
      width:100%; 
      overflow-x: auto;
      height:650px; 
      top:0;
  }
}
@media screen and (min-width: 581px){
  #tb
  {
      overflow-y: auto; 
      width:100%; 
      overflow-x: auto;
      height:350px; 
      top:0;
  }
}

#msg1
{
    width: 20px;
}
.btn
{
    width: 80px;
    height: 40px;
    background-color: black;
    color: white;
}
.btn:hover
{
    color: white;
    font-weight: bold;
}

.table_sticky th
		{
			position: sticky;
			top: 0;
            background-color: black;
		}

</style>
</head>
<body>
    <script type="text/javascript">
        
        function back()
        {
            window.location.href="/";
        }
    </script>


	<div class="popup">
		<h4 align='center' style="font-family: Georgia, serif;"><u>View Messages</u></h4>
		<a class="close" href="/">&times;</a>
		<br>
        <div id='tb'>
        <table border="0px" style="position: relative;" class='table_sticky'>
            <tr style='background-color: black; color:white; font-size: large;'>
            <th>Sr.</th>
            <th>Name</th>
            <th>Email</th>
            <th>Contact</th>
            <th width='100px'>Message</th>
            <th>Delete</th>
            </tr>
            <tbody>
                <% for(var i = 0; i<msg.length;i++)
                {%>
                    <tr>
                        <td><%=(i+1)%></td>
                        <td><%=msg[i].name%></td>
                        <td><%=msg[i].email%></td>
                        <td><%=msg[i].phone%></td>
                        <td><%=msg[i].message%></td>
                        <td><button type='button' class='btn' onclick = "location.href='/delete_msg?_id=<%=msg[i]._id%>'">Delete</button></td>
                    </tr>
               <%}%>
            </tbody>
          </table>
        </div>
	</div>


</body>
</html>